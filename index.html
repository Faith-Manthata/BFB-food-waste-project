<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Waste Reduction Platform - Dashboard</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <h2>FoodSave Pro</h2>
        </div>
        <div class="nav-links">
            <a href="index.html" class="active">Dashboard</a>
            <a href="inventory.html">Inventory</a>
            <a href="forecasting.html">Forecasting</a>
            <a href="alerts.html">Alerts</a>
            <a href="login.html" class="logout">Logout</a>
        </div>
        <div class="user-info">
            <span>Manager Dashboard</span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <header class="dashboard-header">
            <h1>Inventory Dashboard</h1>
            <div class="header-stats">
                <div class="stat-card">
                    <h3>Total Products</h3>
                    <span class="stat-number">1,247</span>
                </div>
                <div class="stat-card">
                    <h3>Near Expiry</h3>
                    <span class="stat-number warning">45</span>
                </div>
                <div class="stat-card">
                    <h3>Expired</h3>
                    <span class="stat-number danger">12</span>
                </div>
            </div>
        </header>

        <!-- Inventory Overview -->
        <section class="inventory-overview">
            <h2>Category Overview</h2>
            <div class="category-grid">
                <div class="category-card" data-category="deli">
                    <h3>Deli Items</h3>
                    <div class="stock-level">
                        <span class="level high">85%</span>
                        <span class="expiry-count">5 near expiry</span>
                    </div>
                </div>
                <div class="category-card" data-category="produce">
                    <h3>Fresh Produce</h3>
                    <div class="stock-level">
                        <span class="level medium">65%</span>
                        <span class="expiry-count warning">12 near expiry</span>
                    </div>
                </div>
                <div class="category-card" data-category="dairy">
                    <h3>Dairy Products</h3>
                    <div class="stock-level">
                        <span class="level low">45%</span>
                        <span class="expiry-count danger">8 near expiry</span>
                    </div>
                </div>
                <div class="category-card" data-category="bakery">
                    <h3>Bakery</h3>
                    <div class="stock-level">
                        <span class="level high">78%</span>
                        <span class="expiry-count">3 near expiry</span>
                    </div>
                </div>
                <div class="category-card" data-category="meat">
                    <h3>Meat & Poultry</h3>
                    <div class="stock-level">
                        <span class="level medium">60%</span>
                        <span class="expiry-count warning">7 near expiry</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Alerts and Forecasting Sections -->
        <div class="dashboard-grid">
            <!-- Expiry Alerts -->
            <section class="alerts-panel">
                <h2>Expiry Alerts</h2>
                <div class="alerts-list">
                    <div class="alert-item urgent">
                        <span class="alert-icon">⚠</span>
                        <div class="alert-content">
                            <h4>Milk - 2%</h4>
                            <p>Expires: Today</p>
                            <span class="alert-category">Dairy</span>
                        </div>
                    </div>
                    <div class="alert-item warning">
                        <span class="alert-icon">⚠</span>
                        <div class="alert-content">
                            <h4>Chicken Breast</h4>
                            <p>Expires: Tomorrow</p>
                            <span class="alert-category">Meat</span>
                        </div>
                    </div>
                    <div class="alert-item warning">
                        <span class="alert-icon">⚠</span>
                        <div class="alert-content">
                            <h4>Whole Wheat Bread</h4>
                            <p>Expires: 2 days</p>
                            <span class="alert-category">Bakery</span>
                        </div>
                    </div>
                </div>
                <a href="alerts.html" class="view-all">View All Alerts</a>
            </section>

            <!-- Forecasting Module -->
            <section class="forecasting-panel">
                <h2>Demand Forecasting</h2>
                <div class="forecast-summary">
                    <div class="forecast-item">
                        <h4>Next Week Prediction</h4>
                        <p>Expected demand increase: <strong>15%</strong></p>
                        <p>Recommended order: <strong>+20% dairy</strong></p>
                    </div>
                    <div class="forecast-chart">
                        <div class="chart-placeholder">
                            <div class="chart-bar" style="height: 60%"></div>
                            <div class="chart-bar" style="height: 80%"></div>
                            <div class="chart-bar" style="height: 95%"></div>
                            <div class="chart-bar" style="height: 75%"></div>
                        </div>
                    </div>
                </div>
                <a href="forecasting.html" class="view-all">Detailed Forecast</a>
            </section>
        </div>

        <!-- Role-based Access Notice -->
        <section class="role-section">
            <h2>Role-based Access</h2>
            <div class="role-cards">
                <div class="role-card">
                    <h3>Employee View</h3>
                    <p>Basic inventory tracking and low-stock alerts</p>
                    <a href="dashboard-employee.html" class="btn-secondary">Switch to Employee View</a>
                </div>
                <div class="role-card">
                    <h3>Manager View</h3>
                    <p>Full analytics, multi-location visibility, and reporting</p>
                    <a href="dashboard-manager.html" class="btn-primary">Current View</a>
                </div>
            </div>
        </section>
    </div>

    <script src="js/main.js"></script>
    <script>
// Force full height on all pages
document.addEventListener('DOMContentLoaded', function() {
    // Set minimum height for main container
    const container = document.querySelector('.container');
    const navbar = document.querySelector('.navbar');
    
    if (container && navbar) {
        const navbarHeight = navbar.offsetHeight;
        container.style.minHeight = `calc(100vh - ${navbarHeight}px)`;
    }
    
    // Ensure body takes full height
    document.body.style.minHeight = '100vh';
    document.documentElement.style.height = '100%';
    
    // Fix for mobile viewport
    const viewport = document.querySelector('meta[name="viewport"]');
    if (!viewport) {
        const meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, initial-scale=1.0';
        document.head.appendChild(meta);
    }
});
</script>
</body>
</html>